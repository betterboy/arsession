arsession
=========
这是使用c编写的一个用于网络游戏断线重连的工具.
在网络游戏中，客户端与服务器使用RPC协议进行交互，但是在弱网络环境中，丢包率较高，为了玩家体验一般的游戏都实现了断线重连，比如战斗和业务逻辑。本项目只关注业务层面的断线重连，但也可以用于战斗，实现思想是相似的。

实现思想
-------
我们在客户端与服务端使用一个ar_session的结构体来维护数据链接，它位于应用层和传输层之间，模仿了TCP的数据确认过程，更像时一个数据发送代理。应用程序将打包的协议数据输入ar_session进入数据打包和缓存，然后应用程序从ar_session取出打包后的数据，通过传输层发往对端。对端从传输层收到的数据是经过ar_session打包过的数据，所以必须先输入ar_session进行解包，然后再取出原始协议数据，交给上层应用。
在ar_session内部，我们维护了一个固定大小的缓冲区，发送数据时会将原始协议数据进行缓存，两端收到数据时，会对数据进行ack确认，当收到ack时，在将协议缓冲数据删除，思想类似TCP的确认过程，从而保证断线重连后，没有被对端确认的数据不会丢失，给应用层重新发送协议数据的机会。

数据流
-----    
app--->protocol data--->ar_session(ar_send)---->transport layer(tcp/udp)
                                                                    |
                                                                    |
app<---protocol data<----ar_session(ar_input)<----transport layer(tcp/udp)
    
Example
-------
具体使用请查看test.cpp

NOTE
----
欢迎提出问题和交流。
